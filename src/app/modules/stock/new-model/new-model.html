<div class="header">
  <h2>Modelos</h2>
  <a class="btn primary" routerLink="/modelos/nuevo">+ Nuevo modelo</a>
</div>

@if (loading()) {
  <div class="hint">Cargando…</div>
} @else if (!modelos().length) {
  <div class="hint">No hay modelos aún. Creá el primero.</div>
} @else {
  <div class="tabla-wrapper">
    <table class="tabla-modulos">
      <thead>
        <tr>
          <th>Modelo</th>
          @for (c of cols; track c.label) {
            <th style="text-align:right">{{ c.label }}</th>
          }
          <th style="width:80px"></th>
        </tr>
      </thead>
      <tbody>
        @for (m of modelos(); track m.id) {
          <tr>
            <td>
              <a [routerLink]="['/modelos', m.id]" class="link">{{ m.nombre }}</a>
            </td>

           @for (c of cols; track c.label) {
              <td style="text-align:right">
                {{ qty(m, c.tipo, c.presentacionMl) }}
              </td>
            }


            <td class="actions">
              <a class="btn tiny" [routerLink]="['/modelos', m.id]">Editar</a>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
}
